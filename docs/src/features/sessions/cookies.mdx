---
title: 'Cookies'
description: 'Persist authentication and manage cookies across sessions'
---

import UploadCookies from '/snippets/sessions/upload_cookies.mdx';
import ExtractCookiesManual from '/snippets/sessions/extract_cookies_manual.mdx';
import ExtractCookiesNotte from '/snippets/sessions/extract_cookies_notte.mdx';

Cookies allow you to persist authentication state across sessions, avoiding repeated logins and maintaining session continuity.

## Automatic Persistence

The simplest approach is automatic cookie persistence using `cookie_file`:

```python
from notte_sdk import NotteClient

client = NotteClient()

# Cookies automatically loaded at start, saved when session ends
with client.Session(cookie_file="cookies.json") as session:
    page = session.page
    page.goto("https://example.com/login")

    # Log in once, cookies are captured
    page.fill('input[name="email"]', "user@example.com")
    page.fill('input[name="password"]', "password")
    page.click('button[type="submit"]')

# Next time: already logged in!
with client.Session(cookie_file="cookies.json") as session:
    page = session.page
    page.goto("https://example.com/dashboard")
    # Authentication persisted from previous session
```

<Tip>
  The `cookie_file` parameter handles everything automatically - loading cookies when the session starts and saving them when it ends.
</Tip>

## Manual Cookie Management

For more control, use `set_cookies()` and `get_cookies()`:

```python
from notte_sdk import NotteClient
import json

client = NotteClient()

# Save cookies from a session
with client.Session() as session:
    page = session.page
    page.goto("https://example.com")

    # Perform login...

    # Get and save cookies
    cookies = session.get_cookies()
    with open("cookies.json", "w") as f:
        json.dump(cookies, f)

# Load cookies in a new session
with client.Session() as session:
    with open("cookies.json", "r") as f:
        cookies = json.load(f)
    session.set_cookies(cookies=cookies)

    page = session.page
    page.goto("https://example.com/dashboard")
    # Already authenticated
```

## Uploading Cookies

Upload cookies from an existing file:

<UploadCookies/>

### Cookie File Format

Cookies must be a valid JSON array:

```json
[
  {
    "name": "session_id",
    "value": "abc123",
    "domain": ".example.com",
    "path": "/",
    "expires": 1735689600,
    "httpOnly": true,
    "secure": true
  }
]
```

## Extracting Cookies

### From Your Browser

Export cookies from Chrome, Firefox, or other browsers:

<ExtractCookiesManual />

### From a Notte Session

Extract cookies programmatically:

<ExtractCookiesNotte />

## Best Practices

### Security

- Store cookie files securely outside version control
- Add `*.json` cookie files to `.gitignore`
- Rotate cookies regularly for sensitive services
- Use environment-specific cookie files

### Maintenance

- Monitor cookie expiration dates
- Set up automated refresh for long-running systems
- Keep backup copies of valid cookies

### Troubleshooting

| Issue | Solution |
|-------|----------|
| Session not authenticated | Verify cookies haven't expired |
| Cookies not loading | Check JSON format is valid |
| Partial authentication | Ensure all required cookies are included |
| Domain mismatch | Verify cookie domains match target site |

## Next Steps

<CardGroup cols={2}>
  <Card title="Session Configuration" icon="gear" href="/features/sessions/configuration">
    Configure sessions with all options
  </Card>

  <Card title="Browser Profiles" icon="user" href="/features/sessions/browser-profiles">
    Persist full browser state
  </Card>

  <Card title="Vaults" icon="lock" href="/concepts/vaults">
    Secure credential storage
  </Card>

  <Card title="Session Lifecycle" icon="rotate" href="/features/sessions/lifecycle">
    Manage session states
  </Card>
</CardGroup>
