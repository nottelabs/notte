---
title: Ad Blocking
description: Block ads and trackers in your browser sessions
---

Block advertisements, trackers, and unwanted content in your Notte sessions to improve performance and reduce bandwidth usage.

## Using Playwright Route Blocking

Block ads and trackers by intercepting network requests:

<CodeGroup>
  ```python Python
  from notte_sdk import NotteClient

  client = NotteClient()

  with client.Session() as session:
      page = session.page

      # Block ads, tracking scripts, and images
      page.route("**/*.{png,jpg,jpeg,gif,webp}", lambda route: route.abort())
      page.route("**/ads/**", lambda route: route.abort())
      page.route("**/analytics/**", lambda route: route.abort())
      page.route("**/tracking/**", lambda route: route.abort())

      page.goto("https://example.com")
  ```
</CodeGroup>

## Block by Domain

Block specific ad and tracking domains:

<CodeGroup>
  ```python Python
  from notte_sdk import NotteClient

  client = NotteClient()

  # Common ad and tracking domains
  blocked_domains = [
      "doubleclick.net",
      "googlesyndication.com",
      "googletagmanager.com",
      "facebook.net",
      "google-analytics.com",
      "scorecardresearch.com"
  ]

  with client.Session() as session:
      page = session.page

      def block_ads(route):
          if any(domain in route.request.url for domain in blocked_domains):
              route.abort()
          else:
              route.continue_()

      page.route("**/*", block_ads)
      page.goto("https://example.com")
  ```
</CodeGroup>

## Block by Resource Type

Block specific types of resources:

<CodeGroup>
  ```python Python
  from notte_sdk import NotteClient

  client = NotteClient()

  with client.Session() as session:
      page = session.page

      def block_resources(route):
          resource_type = route.request.resource_type

          # Block images, media, and stylesheets
          if resource_type in ['image', 'media', 'stylesheet', 'font']:
              route.abort()
          else:
              route.continue_()

      page.route("**/*", block_resources)
      page.goto("https://example.com")
  ```
</CodeGroup>

## Using Blocklists

Use comprehensive blocklists for maximum coverage:

<CodeGroup>
  ```python Python
  from notte_sdk import NotteClient
  import requests

  client = NotteClient()

  # Download EasyList blocklist
  blocklist_url = "https://easylist.to/easylist/easylist.txt"
  blocklist = requests.get(blocklist_url).text.split('\n')

  # Parse blocklist (simplified)
  blocked_patterns = [
      line for line in blocklist
      if line and not line.startswith('!')
  ]

  with client.Session() as session:
      page = session.page

      def block_from_list(route):
          url = route.request.url
          if any(pattern in url for pattern in blocked_patterns[:100]):  # Use first 100 patterns
              route.abort()
          else:
              route.continue_()

      page.route("**/*", block_from_list)
      page.goto("https://example.com")
  ```
</CodeGroup>

## Performance Benefits

Blocking ads significantly improves performance:

<CodeGroup>
  ```python Python
  from notte_sdk import NotteClient
  import time

  client = NotteClient()

  # Without ad blocking
  with client.Session() as session:
      page = session.page
      start = time.time()
      page.goto("https://example.com")
      no_blocking = time.time() - start
      print(f"Without blocking: {no_blocking:.2f}s")

  # With ad blocking
  with client.Session() as session:
      page = session.page
      page.route("**/*.{png,jpg,jpeg,gif,webp,css}", lambda route: route.abort())
      page.route("**/ads/**", lambda route: route.abort())

      start = time.time()
      page.goto("https://example.com")
      with_blocking = time.time() - start
      print(f"With blocking: {with_blocking:.2f}s")
      print(f"Improvement: {((no_blocking - with_blocking) / no_blocking * 100):.1f}%")
  ```
</CodeGroup>

## Block Third-Party Content

Block all third-party requests:

<CodeGroup>
  ```python Python
  from notte_sdk import NotteClient
  from urllib.parse import urlparse

  client = NotteClient()

  with client.Session() as session:
      page = session.page

      def block_third_party(route):
          request_domain = urlparse(route.request.url).netloc
          page_domain = urlparse(page.url).netloc if page.url else ""

          if request_domain != page_domain:
              route.abort()  # Block third-party
          else:
              route.continue_()  # Allow first-party

      page.route("**/*", block_third_party)
      page.goto("https://example.com")
  ```
</CodeGroup>

## Selective Blocking

Block only on specific pages or conditions:

<CodeGroup>
  ```python Python
  from notte_sdk import NotteClient

  client = NotteClient()

  with client.Session() as session:
      page = session.page

      # Only block ads on news sites
      if "news" in target_url:
          page.route("**/ads/**", lambda route: route.abort())

      page.goto(target_url)
  ```
</CodeGroup>

## Best Practices

### 1. Block Early

Set up blocking before navigating:

```python
# Good: Block before navigation
page.route("**/*.{png,jpg}", lambda route: route.abort())
page.goto("https://example.com")

# Bad: Block after navigation (too late)
page.goto("https://example.com")
page.route("**/*.{png,jpg}", lambda route: route.abort())
```

### 2. Test Your Blocking

Ensure blocking doesn't break functionality:

```python
page.route("**/ads/**", lambda route: route.abort())
page.goto("https://example.com")

# Verify the page still works
assert page.locator("button.submit").is_visible()
```

### 3. Balance Performance and Functionality

Don't block resources that are critical:

```python
def smart_block(route):
    url = route.request.url

    # Always block ads
    if '/ads/' in url:
        route.abort()
    # Block images except logos
    elif url.endswith(('.jpg', '.png')) and 'logo' not in url:
        route.abort()
    else:
        route.continue_()

page.route("**/*", smart_block)
```

## Limitations

Ad blocking via route interception:
- ✅ Works with all browser types
- ✅ Reduces bandwidth and improves speed
- ✅ Customizable per session
- ❌ Requires Playwright (not available with Notte SDK actions)
- ❌ Must be configured for each session
- ❌ Some sites detect ad blockers

## Next Steps

<CardGroup cols={2}>
  <Card title="Playwright vs Notte" icon="code-compare" href="/features/sessions/playwright-vs-notte">
    Learn when to use Playwright features
  </Card>

  <Card title="Connect with Playwright" icon="p" href="/features/sessions/playwright">
    Set up Playwright with Notte
  </Card>

  <Card title="Stealth Mode" icon="user-secret" href="/features/sessions/stealth-mode">
    Combine with anti-detection
  </Card>

  <Card title="Browser Extensions" icon="puzzle-piece" href="/features/sessions/browser-extensions">
    Use browser extensions for ad blocking
  </Card>
</CardGroup>
